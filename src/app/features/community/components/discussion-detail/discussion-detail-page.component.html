<div class="discussion-detail" *ngIf="discussion!=undefined && discussion.id != ''">
    <!-- Bread crumbs Start -->
    <div class="breadcrumbs">
        <ul class="uk-breadcrumb">
            <li routerLink="/community" class="fa fa-angle-right">Community</li>
            <li routerLink="/community/discussions" class="fa fa-angle-right">All Discussions</li>
            <li class="fa fa-angle-right" *ngIf="category" [routerLink]="['/community/discussions',category]">{{categoryName}}</li>
        </ul>
    </div>
    <!-- Bread crumbs End -->
    <div class="uk-container">
        <h2 class="heading">{{discussion.title}}</h2>
        <div class="uk-grid uk-grid-large">
            <div class="uk-width-1-3@m">
                <div class="m-t-40 category-box top">
                    <div class="img-container" *ngIf="discussion.userProfile && discussion.userProfile.basicProfileInfo && discussion.userProfile.basicProfileInfo.profileImage && discussion.userProfile.basicProfileInfo.profileImage.thumbnailImage">
                        <img class="user" src="{{discussion.userProfile.basicProfileInfo.profileImage.thumbnailImage}}">
                    </div>
                    <div class="heading2">
                        {{discussion.username}}
                    </div>
                </div>
                <div class="m-t-40 category-box">
                    <div class="m-b-20">
                        <a href="" class="uk-icon-button  uk-margin-small-right whatapp-icon" uk-icon="whatsapp"> </a> <a> Share via
                        Whatsapp</a>
                    </div>
            
                    <div class="m-b-20">
                        <a href="" class="uk-icon-button  uk-margin-small-right fb-icon" uk-icon="mail"> </a> <a> Share via Email</a>
                    </div>
            
                    <div>
                        <a href="" class="uk-icon-button  uk-margin-small-right email-icon" uk-icon="facebook"> </a> <a> Share via
                        Facebook</a>
                    </div>
                </div>
            </div>
            <div class="uk-width-2-3@m">
                <div class="uk-card uk-card-default comment">
                    <div class="uk-card-body">
                        <span class="p-b-5">Comment</span>
                        <textarea id="commentarea" name="commentarea" [(ngModel)]="commentTxt"></textarea>
                    </div>
                    <div class="uk-card-footer">
                        <div class="uk-flex uk-flex-right">
                            <button class="btn-primary" (click)="addComment()">Submit Comment</button>
                        </div>
                    </div>
                </div>
                <div class="uk-card uk-card-default">
                    <div class="uk-card-header">
                        <div class="uk-grid-small uk-flex-middle" uk-grid>
                            <div class="uk-width-auto">
                                <img class="uk-border-circle" *ngIf="discussion.userProfile && discussion.userProfile.basicProfileInfo && discussion.userProfile.basicProfileInfo.profileImage && discussion.userProfile.basicProfileInfo.profileImage.thumbnailImage" 
                                    width="40" height="40" src="{{discussion.userProfile.basicProfileInfo.profileImage.thumbnailImage}}">
                            </div>
                            <div class="uk-width-expand">
                                <h3 class="uk-card-title uk-margin-remove-bottom">{{discussion.username}}</h3>
                                <p class="uk-text-meta uk-margin-remove-top" *ngIf="discussion.userProfile"> Joined: {{ discussion.userProfile.createdAt | date:"MMM yyyy" }}</p>
                            </div>
                            <div class="uk-width-auto">
                                <p class="uk-text-meta">{{ discussion.createdAt | timeago }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="uk-card-body" [innerHTML]="discussion.text">
                    </div>
                    <div class="uk-card-footer">
                        <div class="uk-grid-collapse uk-child-width-expand@s" uk-grid>
                            <div class="like-container">
                                <img src="/assets/images/like-outline.svg" (click)="likeDiscussion()"> <span class="like" (click)="likeDiscussion()">{{discussion.aggrLikeCount}}</span>
                            </div>
                            <div class="reply-container">
                                <img src="/assets/images/reply.svg"> <label class="reply" for="commentarea"> Reply</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="uk-card uk-card-default" *ngFor="let reply of replies">
                    <div class="uk-card-header">
                        <div class="uk-grid-small uk-flex-middle" uk-grid>
                            <div class="uk-width-auto">
                                <img class="uk-border-circle" *ngIf="reply.userProfile && reply.userProfile.basicProfileInfo && reply.userProfile.basicProfileInfo.profileImage && reply.userProfile.basicProfileInfo.profileImage.thumbnailImage" 
                                    width="40" height="40" src="{{reply.userProfile.basicProfileInfo.profileImage.thumbnailImage}}">
                            </div>
                            <div class="uk-width-expand">
                                <h3 class="uk-card-title uk-margin-remove-bottom">{{reply.userName}}</h3>
                                <p class="uk-text-meta uk-margin-remove-top" *ngIf="reply.userProfile"> Joined: {{ reply.userProfile.createdAt | date:"MMM yyyy" }}</p>
                            </div>
                            <div class="uk-width-auto">
                                <p class="uk-text-meta">{{ reply.createdAt | timeago }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="uk-card-body" [innerHTML]="reply.text">
                    </div>
                    <div class="uk-card-footer">
                        <div class="uk-grid-collapse uk-child-width-expand@s" uk-grid>
                            <div class="like-container">
                                <img src="/assets/images/like-outline.svg" (click)="likeReply(reply)"> <span class="like" (click)="likeReply(reply)">{{reply.likeCount}}</span>
                            </div>
                            <div class="reply-container">
                                <img src="/assets/images/reply.svg"> <label class="reply" for="commentarea"> Reply</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>