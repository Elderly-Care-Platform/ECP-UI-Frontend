<div class="community-page">
  <!-- Search Container starts -->
  <div class="uk-container search-container m-t-40">
    <!-- Search Form START -->
    <div class="search-form" role=“search”>
      <div class="search-field uk-grid-stack uk-grid-small" uk-grid>
        <div class="uk-width-expand">
          <form class="uk-search uk-search-default" autocomplete='off'>
            <input id="communitySearch" class="uk-search-input font-regular search-box" aria-label="search community"
              [ngClass]="{ 'pr-150':showReset}" [(ngModel)]="searchParams.searchTxt" (keyup)="onSearchChange($event)"
              required type="text" placeholder="Search here" name="search" autocomplete='off' />
            <span class="uk-search-icon-flip" [ngClass]="{ 'w-150':showReset}" uk-search-icon>
              <button class="uk-button-link" style="visibility: hidden"></button>
              <button *ngIf="showReset" class="reset-link" (click)="resetSearch($event)">
                <fa-icon [icon]="['fas', 'times-circle']"></fa-icon><span class="uk-visible@s"> Clear Search</span>
              </button>
            </span>
          </form>
        </div>
        <div>
          <button class="uk-button uk-button-default search-btn" (click)="onSearch()">Search</button>
        </div>
      </div>
    </div>
    <!-- Search Form END -->
    <!-- Search Result START -->
    <div class="search-result" aria-live="polite" aria-atomic="true" *ngIf="showResult">

      <div class="m-t-20 uk-hidden@s">
        <p class="font-regular-15 font-weight-600">Search Results ({{totalRecordsDiscussions + totalRecordsEvents}})
        </p>

        <div class="m-t-20 uk-grid-small" uk-grid>
          <div class="uk-width-1-2">
            <div class="search-result-box cursor-pointer" routerLink="/community/discussions"
              [queryParams]="{ searchTxt:searchParams.searchTxt}">
              <p>Discussion ({{totalRecordsDiscussions}})</p>
            </div>
          </div>
          <div class="uk-width-1-2">
            <div class="search-result-box cursor-pointer" routerLink="/community/events"
              [queryParams]="{ searchTxt:searchParams.searchTxt}">
              <p>Event ({{totalRecordsEvents}})</p>
            </div>
          </div>
        </div>
        <p class="uk-text-center">
          <fa-icon style="color:#1A73E8;" [icon]="['fas', 'info-circle']"></fa-icon> Tap on any card to see the full
          results
        </p>
      </div>

      <div class="uk-visible@s">
        <ul uk-tab>
          <li class="uk-active"><a href="#">Discussion ({{totalRecordsDiscussions}})</a></li>
          <li><a href="#">Event ({{totalRecordsEvents}})</a></li>
        </ul>
        <ul class="uk-switcher uk-margin">
          <li class="uk-active">

            <div class="uk-child-width-1-3@m" uk-grid>
              <div *ngFor="let discussion of discussionsList;let i=index" role="group"
                [attr.aria-label]="'Discussion ' + i">
                <app-dicussion-summary-card [category]="selCategory" [discussion]="discussion">
                </app-dicussion-summary-card>
              </div>
            </div>
            <div class="uk-text-center uk-text-bold pt-norec"
              *ngIf="discussionsList!==undefined && discussionsList?.length == 0">
              No Records found
            </div>
            <div class="m-t-30" *ngIf="discussionsList!==undefined && discussionsList?.length > 0">
              <button class="uk-width-1-1 uk-button-default" (click)="showAllDiscussions()"> See All Discussions
              </button>
            </div>
          </li>
          <li>
            <div class="uk-child-width-1-3@m" uk-grid>
              <div *ngFor="let event of eventsList;let i=index" role="group" [attr.aria-label]="'Event ' + i">
                <app-event-summary-card [event]="event" [isPast]="0"></app-event-summary-card>
              </div>
            </div>
            <div class="uk-text-center uk-text-bold pt-norec" *ngIf="eventsList!==undefined && eventsList?.length == 0">
              No Records found
            </div>
            <div class="m-t-30" *ngIf="eventsList!==undefined && eventsList?.length > 0">
              <button class="uk-width-1-1 uk-button-default" (click)="showAllEvents()"> See All Events </button>
            </div>
          </li>

        </ul>
      </div>

    </div>
    <!-- Search Result END -->
  </div>


  <div class="home-banner landing-bg">
    <div class="uk-child-width-1-2@s uk-padding" role="banner" uk-grid>
      <div class="uk-text-left@s">
        <h1 tabindex=0 id="communityHeader">Let us Engage!</h1>
        <p class="font-regular">
          Is there something you wish to discuss about? We are here!
          Let’s start a discussion or conversation, exchange views, arrive at a conclusion, or just talk! Read our
          interesting blogs or publish your own here!
          Check out what’s happening around you.
        </p>
      </div>
    </div>
  </div>

  <!-- Search Container ends -->

  <div class="uk-child-width-1-2 m-b-30" uk-grid>
    <div class="uk-text-center">
      <div class="options-card">
        <img src="assets/images/discussion.png" alt="discussion icon" />
      </div>
      <div (click)="showAllDiscussions()" class="quote-line-card cursor-pointer">
        <a href="javascript:void(0)" (click)="showAllDiscussions()">Let us Discuss</a>
        <span class="uk-float-right" uk-icon="chevron-right"></span>
      </div>
    </div>

    <div class="uk-text-center">
      <div class="options-card">
        <img src="assets/images/events.png" alt="event icon" />
      </div>
      <div (click)="showAllEvents()" class="quote-line-card cursor-pointer">
        <a href="javascript:void(0)" (click)="showAllEvents()">Happening near You</a>
        <span class="uk-float-right" uk-icon="chevron-right"></span>
      </div>
    </div>

  </div>
  <div class="m-seprator">
    <app-featured-discussions></app-featured-discussions>
  </div>
  <div class="m-seprator">
    <app-featured-events></app-featured-events>
  </div>
</div>