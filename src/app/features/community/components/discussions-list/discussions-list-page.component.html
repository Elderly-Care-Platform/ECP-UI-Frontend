<div class="uk-container discussions" *ngIf="categoryList!==undefined && dropDownList!==undefined">
    <!-- Bread crumbs Start -->
    <div class="breadcrumbs">
        <app-breadcrumb [breadcrumbLinks]="breadcrumbLinks"></app-breadcrumb>
    </div>
    <!-- Bread crumbs End -->
    <div class="uk-grid uk-grid-large uk-flex-left">
        <div class="uk-width-2-3">
            <h2>{{selCategory=='' ? 'All' : dropDownList[selCategory].label}} Articles & Discussions</h2>
        </div>
        <div class="uk-width-1-3">
            <button routerLink="/community/discussion/add" class="uk-button uk-button-default adddiscuss"> Start a Discussion +</button>
        </div>
    </div>
    <hr class="m-b-30" />
    <div uk-grid>
        <div class="uk-width-1-3@m">
            <div class="category-box bg-white">
                <div uk-grid>
                    <div class="uk-width-expand">
                        <h4>Categories</h4>
                    </div>
                    <div *ngIf="searchParams.tags !== ''">
                        <a class="uk-text-danger" (click)="clearSelection()">Clear Selection</a>
                    </div>
                </div>
                <ul class="uk-list uk-list-large p-2" *ngIf="dropDownList!==undefined">
                    <li *ngFor="let cat of dropDownList | keyvalue" (click)="onTabChange(cat.key)" class="cursor-pointer"
                    [ngClass]="{'cat-active': cat.key === selCategory}">{{cat.value.label}} <span
                    class="uk-badge uk-float-right">{{cat.value.totalCount}}</span>
                    </li>
                </ul>
            </div>
            <div class="m-t-30 bg-white category-box bg-white">
                <div class="m-b-20">
                    <a [href]="whatsappUrl" class="uk-icon-button  uk-margin-small-right whatapp-icon" uk-icon="whatsapp"> </a>
                    <a class="social-link" [href]="whatsappUrl">
                    Share via
                    Whatsapp</a>
                </div>
                <div class="m-b-20">
                    <a href="mailto:?subject=%0AThis%20is%20Service%20from%20An%20Elder%20Spring%20Initiative%20by%20Tata%20Trusts&body=%0AService%2DURL:%20{{currentUrl}}"
                    class="uk-icon-button  uk-margin-small-right fb-icon" uk-icon="mail">
                    </a> <a class="social-link"
                    href="mailto:?subject=%0AThis%20is%20Service%20from%20An%20Elder%20Spring%20Initiative%20by%20Tata%20Trusts&body=%0AService%2DURL:%20{{currentUrl}}">
                    Share via
                    Email</a>
                </div>
                <div>
                    <a href="https://www.facebook.com/sharer/sharer.php?u={{currentUrl}}&t=Elder%20Spring%20Services" onclick="javascript:window.open(this.href,
                            '_blank', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"
                    class="uk-icon-button  uk-margin-small-right email-icon" uk-icon="facebook"> </a> <a class="social-link"
                    href="https://www.facebook.com/sharer/sharer.php?u={{currentUrl}}&t=Elder%20Spring%20Services" onclick="javascript:window.open(this.href,
                            '_blank', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
                    Share via
                    Facebook</a>
                </div>
            </div>
        </div>
        <div class="uk-width-expand@m">
            <div class="search-form">
                <div class="search-field uk-grid-stack uk-grid-small" uk-grid>
                    <div class="uk-margin uk-width-1-1 uk-width-expand@s">
                        <form class="uk-search uk-search-default">
                            <span class="uk-search-icon-flip" [ngClass]="{ 'w-135':showReset}" uk-search-icon>
                                <button *ngIf="showReset" class="reset-link" (click)="resetSearch($event)">
                                    <fa-icon [icon]="['fas', 'times-circle']"></fa-icon> Reset
                                </button>
                            </span>
                            <input class="uk-search-input search-box" [ngClass]="{ 'pr-135':showReset}"
                                [(ngModel)]="searchParams.searchTxt" (keyup)="onSearchChange($event)" required type="text"
                                placeholder="Search..." name="search" />
                        </form>
                    </div>
                    <div class="uk-width-1-s1 uk-width-auto@s uk-margin-bottom">
                        <button class="uk-button uk-button-default search-btn" (click)="submitSearch()">Search</button>
                    </div>
                </div>
            </div>
            <div *ngIf="discussionsList!==undefined && discussionsList.length > 0">
                <div class="uk-grid uk-grid-large uk-flex-left uk-text-center uk-child-width-1-2@m">
                        <app-dicussion-summary-card *ngFor="let discussion of discussionsList" [category]="selCategory"
                        [discussion]="discussion"></app-dicussion-summary-card>
                </div>
            </div>
            <app-pagination *ngIf="(discussionsList.length > 0)" [totalRecords]="totalRecords"
                    [currentPage]="searchParams.p" [perPage]="searchParams.s" (pageChangeCall)="changePage($event)">
            </app-pagination>
            <div *ngIf="(selCategory!='' && discussionsList.length == 0) || (selCategory=='' && categoryList==null)">
                <app-discussion-no-record></app-discussion-no-record>
            </div>
        </div>
    </div>
</div>